{# templates/security/login_status.html.twig #}
{% extends 'base_empty.html.twig' %}

{% block head %}
    {{ parent() }}
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
{% endblock %}

{% block title %}
    {% if success %}
        {{ 'login_status.success_title'|trans }}
    {% else %}
        {{ 'login_status.failure_title'|trans }}
    {% endif %}
{% endblock %}

{% block body %}
    <div class="min-h-screen flex items-center justify-center bg-gradient-to-br bg-white p-4">
        <div class="max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center">
            {% if success %}
                <h2 class="text-5xl font-bold text-green-600 mb-4">{{ 'login_status.success_message'|trans }}</h2>
            {% else %}
                <h2 class="text-5xl font-bold text-red-600 mb-4">{{ 'login_status.failure_message'|trans }}</h2>
            {% endif %}
            <p class="text-gray-600 mb-4">{{ 'login_status.redirect_message'|trans }}</p>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        setTimeout(function() {
            window.location.href = "{{ redirect_url }}";
        }, 2000);

        // Disable back button
        history.pushState(null, null, document.URL);
        window.addEventListener('popstate', function () {
            history.pushState(null, null, document.URL);
        });
    </script>
{% endblock %}